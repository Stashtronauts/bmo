import database from './database'
import logger from './logger'
import repositories from './repositories'
// ORDER MATTERS
const dependencies = {
	logger,
	database,
	repositories
}
export default async (config) => {
	const instances = config.services = {}
	Object.keys(dependencies).forEach(key => {
		console.log(instances)

		instances[key] = dependencies[key](config)
	})
	return instances
}
