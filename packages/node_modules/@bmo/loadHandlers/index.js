import { set, get } from 'lodash';
const mountHandler = (router) => (handle) => {
	const path = `paths.${handle.path}.handlers`;
	const method = handle.method.toLowerCase();
	router[method](handle.path, handle.handler);
	const handlers = get(router, path, []);
	handlers.push(handle);
	set(router, path, handlers);
};
export default (handlers, router) => {
	handlers.forEach(mountHandler(router));
	return router;
};
