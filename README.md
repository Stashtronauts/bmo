# BMO

BMO is a serverside restful framework.
Aims to reduce boiler plate code by having an opinionated project structure, and provide
flexibility in code by providing robust unobtrusive dependency injection.

## Project structure
BMO expects your project to be structured with some folder.
In the 'baseDirectory' BMO expects there to be several folders
```
|-\
|--config
|--dependencies
|--routes
```
BMO expects the top level modules to export certain things.

The config directory is expected to export an async function that takes in an object parsed from the command line.

```
export default async cliParams =>({
  // my configuration object
  })
```

The dependencies directory should export an object. each key on the object should be either: another object, an array, or a function (async or sync).
Each leaf function will be invoked with the manifest generated by running it through BMO's DI framework
each return value will be available in the dependencies portion of the manifest. see [DI](#DI) for more information on how dependency injection is done.

```
export default async ({ config, dependencies :{ myDependency } }) => ({
    // my module object
  })
```

The routes folder is where you declare your routes.
It should export an array of functions that when invoked returns a route object

```
export default async ({config, dependencies}) => ({
  path:'api/things/v1/',
  method:'post',
  schema:{
    requestBody,
    responseBody
  },
  handler:async(ctx,next)=>{}
})
```

## CLI

BMO comes with an easy to use command line interface. It takes care of starting up and running your application
It even comes with a dev mode that will watch your files and restart during development

install the bmo cli with your package manager of choice:

`npm install (-g) @lmig/bmo-cli`

in your base directory you can start the app:

`bmo start`
 or
`bmo start -d`

If you are creating a bmo based app it is suggested that you install the dependency locally.







